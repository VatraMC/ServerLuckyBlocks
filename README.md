# LuckyBlocks (плагін для Paper)

Рівневі Lucky Blocks для Paper-серверів. Гравці можуть отримувати Lucky Blocks за допомогою команди, а при їх встановленні та руйнуванні випадкова нагорода обирається на основі таблиці луту відповідного рівня.

## Збірка

* Потрібна Java 17+
* Збірка за допомогою Maven:

```
mvn -q -DskipTests package
```

Зібраний jar-файл буде у директорії `target/luckyblocks-1.0.0.jar`.

## Встановлення

1. Скопіюйте jar-файл у папку `plugins/` вашого сервера.
2. Запустіть сервер, щоб згенерувалися стандартні файли `config.yml` і `placed.yml`.
3. Відредагуйте `plugins/LuckyBlocks/config.yml`, щоб налаштувати рівні та лут.

## Команда

* `/luckyblock give <гравець> <рівень> [кількість]`

  * Дозвіл: `luckyblocks.give` (за замовчуванням: OP)

Передбачено автодоповнення для імен гравців, ID рівнів і стандартних кількостей предметів.

## Як це працює

* Команда `give` створює предмет із прихованим тегом, який позначає рівень Lucky Block.
* Коли гравець ставить блок, його місце розташування записується.
* При руйнуванні блоку звичайні дропи відміняються, і виконується випадковий запис із таблиці луту:

  * `item`: кидає предмети у місці блоку
  * `command`: виконує консольну команду (підтримується плейсхолдер `{player}`)
  * `lightning`: створює ефект блискавки біля гравця або в місці блоку
  * `explosion`: створює вибух із налаштованими параметрами

## Конфігурація

Редагуйте файл `plugins/LuckyBlocks/config.yml`, щоб додавати або змінювати рівні. Кожен рівень має такі параметри:

* `display`: Назва, що відображається на предметі.
* `itemMaterial`: Матеріал предмета Lucky Block.
* `glow`: Чи має предмет світитися зачаруванням.
* `loot`: Список луту з параметрами `type` і `weight`.

Підтримувані типи луту: `item`, `command`, `lightning`, `explosion`.

## Примітки

* Встановлені Lucky Blocks зберігаються у файлі `plugins/LuckyBlocks/placed.yml` за координатами.
* Руйнування Lucky Block у креативному режимі також активує лут (це можна змінити у класі `BlockBreakListener`).
